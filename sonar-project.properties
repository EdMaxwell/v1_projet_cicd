# ==================================
# SonarCloud Configuration for BobApp
# ==================================
# This configuration file defines how SonarCloud analyzes the monorepo containing both frontend and backend.

# Project identification
sonar.projectKey=EdMaxwell_v1_projet_cicd
sonar.organization=edmaxwell

# Project metadata
sonar.projectName=BobApp
sonar.projectVersion=1.0

# Source encoding
sonar.sourceEncoding=UTF-8

# SonarCloud host
sonar.host.url=https://sonarcloud.io

# ==================================
# MONO-REPO STRUCTURE
# ==================================
# Sources: both backend (Java) and frontend (TypeScript/Angular)
sonar.sources=back/src/main,front/src/app,front/src/environments

# Tests: separate test directories for backend and frontend
sonar.tests=back/src/test

# ==================================
# EXCLUSIONS
# ==================================
# Exclude build artifacts, dependencies, and generated files
sonar.exclusions=\
  **/node_modules/**,\
  **/target/**,\
  **/dist/**,\
  **/coverage/**,\
  **/test-results/**,\
  **/*.spec.ts,\
  **/environments/**,\
  **/*.spec.js,\
  **/test.ts,\
  **/polyfills.ts,\
  **/*.d.ts

# Test exclusions (don't analyze test files as production code)
sonar.test.inclusions=\
  **/*.spec.ts,\
  **/*.spec.js,\
  **/test/**/*.java

# ==================================
# COVERAGE REPORTS
# ==================================
# Backend: JaCoCo XML report
sonar.coverage.jacoco.xmlReportPaths=back/target/site/jacoco/jacoco.xml

# Frontend: LCOV report  
sonar.javascript.lcov.reportPaths=front/coverage/bobapp/lcov.info

# ==================================
# TEST REPORTS
# ==================================
# Backend: JUnit XML reports from Maven Surefire
sonar.junit.reportPaths=back/target/surefire-reports

# Frontend: JUnit XML reports from Karma
# Note: Frontend test reports are informational, main focus is on coverage
# sonar.testExecutionReportPaths=front/test-results/junit.xml

# ==================================
# LANGUAGE-SPECIFIC SETTINGS
# ==================================
# Java settings
sonar.java.source=11
sonar.java.binaries=back/target/classes
sonar.java.test.binaries=back/target/test-classes
sonar.java.libraries=back/target/**/*.jar

# JavaScript/TypeScript settings
sonar.javascript.node.maxspace=4096
